{%load humanize%}

<div class="modal-content" style="background-color: #fefefe" id="details">
  <div class="modal-header">
    <h2 class="modal-title bi bi-person" id="staticBackdropLabel" style="margin-right: 15px;">
      Client details
    </h2>
    <a class=" bi bi-file-earmark-pdf" onclick="printpdf()" role="button" style="color: #800; margin-right: 10px;">Print details</a>
    <button
      type="button"
      class="btn-close shadow-none"
      data-bs-dismiss="modal"
      aria-label="Close"
    ></button>
  </div>
  <div class="modal-body" style="color: #222222">
    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <div class="label">Phone</div>

        <div class="data">{{client.phone}}</div>
      </li>
      <li class="list-group-item">
        <small style="font-size: medium">Id front</small>
        <img
          crossorigin="anonymous"
          src="{{client.id_front.url}}"
          width="300"
          height="200"
          alt="id back"
        />
      </li>
      <li class="list-group-item">
        <small style="font-size: medium">Id back</small>
        <img
          crossorigin="anonymous"
          src="{{client.id_back.url}}"
          width="300"
          height="200"
          alt="id back"
        />
      </li>
     
      
     <li class="list-group-item">
    <div class="label">Added by</div>
        
    <div class="data">{{client.staff.first_name}} {{client.staff.last_name}}</div>

     </li>

    </ul>
  </div>
</div>

<script type="text/javascript">
  

        
  function printpdf(){
    let full_name = "{{client.full_name}}"
    let element = document.getElementById('details');
    let options = {
    jsPDF: {
    format: 'a4'
    },
    html2canvas:  {letterRendering: true, useCORS: true,     logging: true},
    margin: 1,
    image: {type: 'jpeg', quality: 1},
    filename: full_name+'.pdf'
  };
  html2pdf(element, options);
}
</script>